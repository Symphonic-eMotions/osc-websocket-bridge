<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OSC WebSocket Client</title>
</head>
<body>
<h1>OSC WebSocket Client</h1>
<button id="start-button">Start</button>
<button id="stop-button" disabled>Stop</button>
<div id="osc-messages"></div>

<script>
    let ws;

    // Functie om de WebSocket-verbinding te starten
    function startWebSocket() {
        ws = new WebSocket('ws://localhost:8080');

        ws.onopen = () => {
            console.log('Verbonden met WebSocket-server');
            document.getElementById('start-button').disabled = true;
            document.getElementById('stop-button').disabled = false;
        };

        ws.onmessage = (event) => {
            const oscMessage = JSON.parse(event.data);
            console.log('Ontvangen OSC bericht:', oscMessage);

            // Toon het OSC-bericht in de browser
            const messageDiv = document.createElement('div');
            messageDiv.textContent = `Address: ${oscMessage.address}, Args: ${oscMessage.args.join(', ')}`;
            document.getElementById('osc-messages').appendChild(messageDiv);
        };

        ws.onclose = () => {
            console.log('WebSocket-verbinding gesloten');
            document.getElementById('start-button').disabled = false;
            document.getElementById('stop-button').disabled = true;
        };
    }

    // Functie om de WebSocket-verbinding te stoppen
    function stopWebSocket() {
        if (ws) {
            ws.close();
            console.log('WebSocket-verbinding wordt gesloten');
        }
    }

    // Event listeners voor de knoppen
    document.getElementById('start-button').addEventListener('click', startWebSocket);
    document.getElementById('stop-button').addEventListener('click', stopWebSocket);
</script>
</body>
</html>
